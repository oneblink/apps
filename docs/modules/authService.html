<!DOCTYPE html><html class="default"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>authService | @oneblink/apps</title><meta name="description" content="Documentation for @oneblink/apps"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><script async src="../assets/search.js" id="search-script"></script></head><body><script>document.body.classList.add(localStorage.getItem("tsd-theme") || "os")</script><header><div class="tsd-page-toolbar"><div class="container"><div class="table-wrap"><div class="table-cell" id="tsd-search" data-base=".."><div class="field"><label for="tsd-search-field" class="tsd-widget search no-caption">Search</label><input type="text" id="tsd-search-field"/></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="../index.html" class="title">@oneblink/apps</a></div><div class="table-cell" id="tsd-widgets"><div id="tsd-filter"><a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a><div class="tsd-filter-group"><div class="tsd-select" id="tsd-filter-visibility"><span class="tsd-select-label">All</span><ul class="tsd-select-list"><li data-value="public">Public</li><li data-value="protected">Public/Protected</li><li data-value="private" class="selected">All</li></ul></div> <input type="checkbox" id="tsd-filter-inherited" checked/><label class="tsd-widget" for="tsd-filter-inherited">Inherited</label><input type="checkbox" id="tsd-filter-externals" checked/><label class="tsd-widget" for="tsd-filter-externals">Externals</label></div></div><a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a></div></div></div></div><div class="tsd-page-title"><div class="container"><ul class="tsd-breadcrumb"><li><a href="../modules.html">@oneblink/apps</a></li><li><a href="authService.html">authService</a></li></ul><h1>Namespace authService </h1></div></div></header><div class="container container-main"><div class="row"><div class="col-8 col-content"><section class="tsd-panel tsd-comment"><div class="tsd-comment tsd-typography"><div class="lead">

<a href="#authenticationauthorisation-service" id="authenticationauthorisation-service" style="color: inherit; text-decoration: none;">
  <h2>Authentication/Authorisation Service</h2>
</a>
</div><div><p>Helper functions for handling user authentication and authorisation.</p>
<p><strong>NOTE: <code>init()</code> must be called before using some of the functions in this
service.</strong></p>
<pre><code class="language-js"><span class="hl-1">import</span><span class="hl-0"> { </span><span class="hl-2">authService</span><span class="hl-0"> } </span><span class="hl-1">from</span><span class="hl-0"> </span><span class="hl-3">&#39;@oneblink/apps&#39;</span>
</code></pre>
</div></div></section><section class="tsd-panel-group tsd-index-group"><h2>Index</h2><section class="tsd-panel tsd-index-panel"><div class="tsd-index-content"><section class="tsd-index-section "><h3>Type aliases</h3><ul class="tsd-index-list"><li class="tsd-kind-type-alias tsd-parent-kind-namespace"><a href="authService.html#LoginAttemptResponse" class="tsd-kind-icon">Login<wbr/>Attempt<wbr/>Response</a></li></ul></section><section class="tsd-index-section "><h3>Functions</h3><ul class="tsd-index-list"><li class="tsd-kind-function tsd-parent-kind-namespace"><a href="authService.html#changePassword" class="tsd-kind-icon">change<wbr/>Password</a></li><li class="tsd-kind-function tsd-parent-kind-namespace"><a href="authService.html#checkIsMfaEnabled" class="tsd-kind-icon">check<wbr/>Is<wbr/>Mfa<wbr/>Enabled</a></li><li class="tsd-kind-function tsd-parent-kind-namespace"><a href="authService.html#disableMfa" class="tsd-kind-icon">disable<wbr/>Mfa</a></li><li class="tsd-kind-function tsd-parent-kind-namespace"><a href="authService.html#forgotPassword" class="tsd-kind-icon">forgot<wbr/>Password</a></li><li class="tsd-kind-function tsd-parent-kind-namespace"><a href="authService.html#getCurrentFormsAppUser" class="tsd-kind-icon">get<wbr/>Current<wbr/>Forms<wbr/>App<wbr/>User</a></li><li class="tsd-kind-function tsd-parent-kind-namespace"><a href="authService.html#getFormsKeyId" class="tsd-kind-icon">get<wbr/>Forms<wbr/>Key<wbr/>Id</a></li><li class="tsd-kind-function tsd-parent-kind-namespace"><a href="authService.html#getIdToken" class="tsd-kind-icon">get<wbr/>Id<wbr/>Token</a></li><li class="tsd-kind-function tsd-parent-kind-namespace"><a href="authService.html#getUserFriendlyName" class="tsd-kind-icon">get<wbr/>User<wbr/>Friendly<wbr/>Name</a></li><li class="tsd-kind-function tsd-parent-kind-namespace"><a href="authService.html#getUserProfile" class="tsd-kind-icon">get<wbr/>User<wbr/>Profile</a></li><li class="tsd-kind-function tsd-parent-kind-namespace"><a href="authService.html#getUserToken" class="tsd-kind-icon">get<wbr/>User<wbr/>Token</a></li><li class="tsd-kind-function tsd-parent-kind-namespace"><a href="authService.html#handleAuthentication" class="tsd-kind-icon">handle<wbr/>Authentication</a></li><li class="tsd-kind-function tsd-parent-kind-namespace"><a href="authService.html#init" class="tsd-kind-icon">init</a></li><li class="tsd-kind-function tsd-parent-kind-namespace"><a href="authService.html#isAdministrator" class="tsd-kind-icon">is<wbr/>Administrator</a></li><li class="tsd-kind-function tsd-parent-kind-namespace"><a href="authService.html#isAuthorised" class="tsd-kind-icon">is<wbr/>Authorised</a></li><li class="tsd-kind-function tsd-parent-kind-namespace"><a href="authService.html#isLoggedIn" class="tsd-kind-icon">is<wbr/>Logged<wbr/>In</a></li><li class="tsd-kind-function tsd-parent-kind-namespace"><a href="authService.html#loginHostedUI" class="tsd-kind-icon">login<wbr/>HostedUI</a></li><li class="tsd-kind-function tsd-parent-kind-namespace"><a href="authService.html#loginUsernamePassword" class="tsd-kind-icon">login<wbr/>Username<wbr/>Password</a></li><li class="tsd-kind-function tsd-parent-kind-namespace"><a href="authService.html#logout" class="tsd-kind-icon">logout</a></li><li class="tsd-kind-function tsd-parent-kind-namespace"><a href="authService.html#logoutHostedUI" class="tsd-kind-icon">logout<wbr/>HostedUI</a></li><li class="tsd-kind-function tsd-parent-kind-namespace"><a href="authService.html#registerAuthListener" class="tsd-kind-icon">register<wbr/>Auth<wbr/>Listener</a></li><li class="tsd-kind-function tsd-parent-kind-namespace"><a href="authService.html#requestAccess" class="tsd-kind-icon">request<wbr/>Access</a></li><li class="tsd-kind-function tsd-parent-kind-namespace"><a href="authService.html#setFormsKeyToken" class="tsd-kind-icon">set<wbr/>Forms<wbr/>Key<wbr/>Token</a></li><li class="tsd-kind-function tsd-parent-kind-namespace"><a href="authService.html#setUserToken" class="tsd-kind-icon">set<wbr/>User<wbr/>Token</a></li><li class="tsd-kind-function tsd-parent-kind-namespace"><a href="authService.html#setupMfa" class="tsd-kind-icon">setup<wbr/>Mfa</a></li><li class="tsd-kind-function tsd-parent-kind-namespace"><a href="authService.html#signUp" class="tsd-kind-icon">sign<wbr/>Up</a></li></ul></section></div></section></section><section class="tsd-panel-group tsd-member-group "><h2>Type aliases</h2><section class="tsd-panel tsd-member tsd-kind-type-alias tsd-parent-kind-namespace"><a id="LoginAttemptResponse" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Login<wbr/>Attempt<wbr/>Response<a href="#LoginAttemptResponse" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><div class="tsd-signature tsd-kind-icon">Login<wbr/>Attempt<wbr/>Response<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-symbol">{ </span>mfaCodeCallback<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">; </span>resetPasswordCallback<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol"> }</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/oneblink/apps/blob/49b54e2/src/services/AWSCognitoClient.ts#L20">src/services/AWSCognitoClient.ts:20</a></li></ul></aside><div class="tsd-type-declaration"><h4>Type declaration</h4><ul class="tsd-parameters"><li class="tsd-parameter"><h5>mfa<wbr/>Code<wbr/>Callback<span class="tsd-signature-symbol">?:</span>function</h5><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-type-literal"><li class="tsd-signature tsd-kind-icon">mfa<wbr/>Code<wbr/>Callback<span class="tsd-signature-symbol">(</span>code<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="authService.html#LoginAttemptResponse" class="tsd-signature-type" data-tsd-kind="Type alias">LoginAttemptResponse</a><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/oneblink/apps/blob/49b54e2/src/services/AWSCognitoClient.ts#L22">src/services/AWSCognitoClient.ts:22</a></li></ul></aside><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>code: <span class="tsd-signature-type">string</span></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="authService.html#LoginAttemptResponse" class="tsd-signature-type" data-tsd-kind="Type alias">LoginAttemptResponse</a><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></li><li class="tsd-parameter"><h5>reset<wbr/>Password<wbr/>Callback<span class="tsd-signature-symbol">?:</span>function</h5><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-type-literal"><li class="tsd-signature tsd-kind-icon">reset<wbr/>Password<wbr/>Callback<span class="tsd-signature-symbol">(</span>newPassword<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="authService.html#LoginAttemptResponse" class="tsd-signature-type" data-tsd-kind="Type alias">LoginAttemptResponse</a><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/oneblink/apps/blob/49b54e2/src/services/AWSCognitoClient.ts#L21">src/services/AWSCognitoClient.ts:21</a></li></ul></aside><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>newPassword: <span class="tsd-signature-type">string</span></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="authService.html#LoginAttemptResponse" class="tsd-signature-type" data-tsd-kind="Type alias">LoginAttemptResponse</a><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></li></ul></div></section></section><section class="tsd-panel-group tsd-member-group "><h2>Functions</h2><section class="tsd-panel tsd-member tsd-kind-function tsd-parent-kind-namespace"><a id="changePassword" class="tsd-anchor"></a><h3 class="tsd-anchor-link">change<wbr/>Password<a href="#changePassword" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-function tsd-parent-kind-namespace"><li class="tsd-signature tsd-kind-icon">change<wbr/>Password<span class="tsd-signature-symbol">(</span>existingPassword<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span>, newPassword<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/oneblink/apps/blob/49b54e2/src/services/cognito.ts#L217">src/services/cognito.ts:217</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Allow the currently logged in user to change their password by passing their
existing password and a new password.</p>
</div><div>
<a href="#example" id="example" style="color: inherit; text-decoration: none;">
  <h4>Example</h4>
</a>
<pre><code class="language-js"><span class="hl-7">const</span><span class="hl-0"> </span><span class="hl-8">currentPassword</span><span class="hl-0"> = </span><span class="hl-3">&#39;P@$5w0rd&#39;</span><br/><span class="hl-7">const</span><span class="hl-0"> </span><span class="hl-8">newPassword</span><span class="hl-0"> = </span><span class="hl-3">&#39;P@$5w0rD&#39;</span><br/><span class="hl-1">await</span><span class="hl-0"> </span><span class="hl-2">authService</span><span class="hl-0">.</span><span class="hl-4">changePassword</span><span class="hl-0">(</span><span class="hl-2">currentPassword</span><span class="hl-0">, </span><span class="hl-2">newPassword</span><span class="hl-0">)</span>
</code></pre>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>existingPassword: <span class="tsd-signature-type">string</span></h5></li><li><h5>newPassword: <span class="tsd-signature-type">string</span></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4><div></div></li></ul></section><section class="tsd-panel tsd-member tsd-kind-function tsd-parent-kind-namespace"><a id="checkIsMfaEnabled" class="tsd-anchor"></a><h3 class="tsd-anchor-link">check<wbr/>Is<wbr/>Mfa<wbr/>Enabled<a href="#checkIsMfaEnabled" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-function tsd-parent-kind-namespace"><li class="tsd-signature tsd-kind-icon">check<wbr/>Is<wbr/>Mfa<wbr/>Enabled<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/oneblink/apps/blob/49b54e2/src/services/cognito.ts#L423">src/services/cognito.ts:423</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Check if MFA is enabled for this current user.</p>
</div><div>
<a href="#example" id="example" style="color: inherit; text-decoration: none;">
  <h4>Example</h4>
</a>
<pre><code class="language-js"><span class="hl-7">const</span><span class="hl-0"> </span><span class="hl-8">isMfaEnabled</span><span class="hl-0"> = </span><span class="hl-1">await</span><span class="hl-0"> </span><span class="hl-2">authService</span><span class="hl-0">.</span><span class="hl-4">checkIsMfaEnabled</span><span class="hl-0">()</span><br/><span class="hl-1">if</span><span class="hl-0"> (</span><span class="hl-2">isMfaEnabled</span><span class="hl-0">) {</span><br/><span class="hl-0">  </span><span class="hl-9">// Allow disabling MFA</span><br/><span class="hl-0">} </span><span class="hl-1">else</span><span class="hl-0"> {</span><br/><span class="hl-0">  </span><span class="hl-9">// Allow enabling MFA</span><br/><span class="hl-0">}</span>
</code></pre>
</div></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">&gt;</span></h4><div></div></li></ul></section><section class="tsd-panel tsd-member tsd-kind-function tsd-parent-kind-namespace"><a id="disableMfa" class="tsd-anchor"></a><h3 class="tsd-anchor-link">disable<wbr/>Mfa<a href="#disableMfa" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-function tsd-parent-kind-namespace"><li class="tsd-signature tsd-kind-icon">disable<wbr/>Mfa<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/oneblink/apps/blob/49b54e2/src/services/cognito.ts#L444">src/services/cognito.ts:444</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Disable MFA for the current user.</p>
</div><div>
<a href="#example" id="example" style="color: inherit; text-decoration: none;">
  <h4>Example</h4>
</a>
<pre><code class="language-js"><span class="hl-1">await</span><span class="hl-0"> </span><span class="hl-2">authService</span><span class="hl-0">.</span><span class="hl-4">disableMfa</span><span class="hl-0">()</span>
</code></pre>
</div></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4><div></div></li></ul></section><section class="tsd-panel tsd-member tsd-kind-function tsd-parent-kind-namespace"><a id="forgotPassword" class="tsd-anchor"></a><h3 class="tsd-anchor-link">forgot<wbr/>Password<a href="#forgotPassword" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-function tsd-parent-kind-namespace"><li class="tsd-signature tsd-kind-icon">forgot<wbr/>Password<span class="tsd-signature-symbol">(</span>username<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-symbol">(</span>code<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span>, password<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/oneblink/apps/blob/49b54e2/src/services/cognito.ts#L249">src/services/cognito.ts:249</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Allow a user to start the forgot password process. The user will be emailed a
temporary code that must be passed with a new password to the function
returned.</p>
</div><div>
<a href="#example" id="example" style="color: inherit; text-decoration: none;">
  <h4>Example</h4>
</a>
<pre><code class="language-js"><span class="hl-7">const</span><span class="hl-0"> </span><span class="hl-8">username</span><span class="hl-0"> = </span><span class="hl-3">&#39;user@email.io&#39;</span><br/><span class="hl-7">const</span><span class="hl-0"> </span><span class="hl-8">finishForgotPassword</span><span class="hl-0"> = </span><span class="hl-1">await</span><span class="hl-0"> </span><span class="hl-2">authService</span><span class="hl-0">.</span><span class="hl-4">forgotPassword</span><span class="hl-0">(</span><span class="hl-2">username</span><span class="hl-0">)</span><br/><br/><span class="hl-9">// Prompt the user to enter the code and a new password</span><br/><span class="hl-7">const</span><span class="hl-0"> </span><span class="hl-8">code</span><span class="hl-0"> = </span><span class="hl-4">prompt</span><span class="hl-0">(</span><br/><span class="hl-0">  </span><span class="hl-3">&#39;You have been emailed a verification code, please enter it here.&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">)</span><br/><span class="hl-7">const</span><span class="hl-0"> </span><span class="hl-8">newPassword</span><span class="hl-0"> = </span><span class="hl-4">prompt</span><span class="hl-0">(</span><span class="hl-3">&#39;Please enter a new password to continue.&#39;</span><span class="hl-0">)</span><br/><span class="hl-1">await</span><span class="hl-0"> </span><span class="hl-4">finishForgotPassword</span><span class="hl-0">(</span><span class="hl-2">code</span><span class="hl-0">, </span><span class="hl-2">newPassword</span><span class="hl-0">)</span>
</code></pre>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>username: <span class="tsd-signature-type">string</span></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-symbol">(</span>code<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span>, password<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">&gt;</span></h4><div></div></li></ul></section><section class="tsd-panel tsd-member tsd-kind-function tsd-parent-kind-namespace"><a id="getCurrentFormsAppUser" class="tsd-anchor"></a><h3 class="tsd-anchor-link">get<wbr/>Current<wbr/>Forms<wbr/>App<wbr/>User<a href="#getCurrentFormsAppUser" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-function tsd-parent-kind-namespace"><li class="tsd-signature tsd-kind-icon">get<wbr/>Current<wbr/>Forms<wbr/>App<wbr/>User<span class="tsd-signature-symbol">(</span>formsAppId<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span>, abortSignal<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">AbortSignal</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-symbol">{ </span>formsAppId<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">; </span>groups<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">; </span>userProfile<span class="tsd-signature-symbol">?: </span><a href="../interfaces/MiscTypes.UserProfile.html" class="tsd-signature-type" data-tsd-kind="Interface">UserProfile</a><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/oneblink/apps/blob/49b54e2/src/auth-service.ts#L160">src/auth-service.ts:160</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Get the current user&#39;s App User details for a OneBlink Forms App. Returns
<code>undefined</code> if the current user is not logged in.</p>
</div><div>
<a href="#example" id="example" style="color: inherit; text-decoration: none;">
  <h4>Example</h4>
</a>
<pre><code class="language-js"><span class="hl-7">const</span><span class="hl-0"> </span><span class="hl-8">formsAppId</span><span class="hl-0"> = </span><span class="hl-6">1</span><br/><span class="hl-7">const</span><span class="hl-0"> </span><span class="hl-8">formsAppUserDetails</span><span class="hl-0"> =</span><br/><span class="hl-0">  </span><span class="hl-1">await</span><span class="hl-0"> </span><span class="hl-2">authService</span><span class="hl-0">.</span><span class="hl-4">getCurrentFormsAppUser</span><span class="hl-0">(</span><span class="hl-2">formsAppId</span><span class="hl-0">)</span><br/><span class="hl-1">if</span><span class="hl-0"> (!</span><span class="hl-2">formsAppUserDetails</span><span class="hl-0">) {</span><br/><span class="hl-0">  </span><span class="hl-9">// handle unauthorised user</span><br/><span class="hl-0">}</span>
</code></pre>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>formsAppId: <span class="tsd-signature-type">number</span></h5></li><li><h5><span class="tsd-flag ts-flagOptional">Optional</span> abortSignal: <span class="tsd-signature-type">AbortSignal</span></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-symbol">{ </span>formsAppId<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">; </span>groups<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">; </span>userProfile<span class="tsd-signature-symbol">?: </span><a href="../interfaces/MiscTypes.UserProfile.html" class="tsd-signature-type" data-tsd-kind="Interface">UserProfile</a><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol">&gt;</span></h4><div></div></li></ul></section><section class="tsd-panel tsd-member tsd-kind-function tsd-parent-kind-namespace"><a id="getFormsKeyId" class="tsd-anchor"></a><h3 class="tsd-anchor-link">get<wbr/>Forms<wbr/>Key<wbr/>Id<a href="#getFormsKeyId" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-function tsd-parent-kind-namespace"><li class="tsd-signature tsd-kind-icon">get<wbr/>Forms<wbr/>Key<wbr/>Id<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">void</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/oneblink/apps/blob/49b54e2/src/services/forms-key.ts#L40">src/services/forms-key.ts:40</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Can be used to extract the <code>keyId</code> from the Forms Key token passed to
<code>setFormsKeyToken()</code>. Will be <code>undefined</code> if the token has not been set yet.</p>
</div><div>
<a href="#example" id="example" style="color: inherit; text-decoration: none;">
  <h4>Example</h4>
</a>
<pre><code class="language-js"><span class="hl-7">const</span><span class="hl-0"> </span><span class="hl-8">keyId</span><span class="hl-0"> = </span><span class="hl-2">authService</span><span class="hl-0">.</span><span class="hl-4">getFormsKeyId</span><span class="hl-0">()</span><br/><span class="hl-1">if</span><span class="hl-0"> (</span><span class="hl-2">keyId</span><span class="hl-0">) {</span><br/><span class="hl-0">  </span><span class="hl-9">// Use keyId here...</span><br/><span class="hl-0">}</span>
</code></pre>
</div></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">void</span></h4><div></div></li></ul></section><section class="tsd-panel tsd-member tsd-kind-function tsd-parent-kind-namespace"><a id="getIdToken" class="tsd-anchor"></a><h3 class="tsd-anchor-link">get<wbr/>Id<wbr/>Token<a href="#getIdToken" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-function tsd-parent-kind-namespace"><li class="tsd-signature tsd-kind-icon">get<wbr/>Id<wbr/>Token<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/oneblink/apps/blob/49b54e2/src/services/forms-key.ts#L74">src/services/forms-key.ts:74</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Get the Id Token used to make requests to the OneBlink API. This will return
<code>undefined</code> if the current user is not logged in.</p>
</div><div>
<a href="#example" id="example" style="color: inherit; text-decoration: none;">
  <h4>Example</h4>
</a>
<pre><code class="language-js"><span class="hl-7">const</span><span class="hl-0"> </span><span class="hl-8">idToken</span><span class="hl-0"> = </span><span class="hl-1">await</span><span class="hl-0"> </span><span class="hl-2">authService</span><span class="hl-0">.</span><span class="hl-4">getIdToken</span><span class="hl-0">()</span><br/><span class="hl-1">if</span><span class="hl-0"> (</span><span class="hl-2">idToken</span><span class="hl-0">) {</span><br/><span class="hl-0">  </span><span class="hl-1">await</span><span class="hl-0"> </span><span class="hl-4">fetch</span><span class="hl-0">(</span><span class="hl-2">url</span><span class="hl-0">, {</span><br/><span class="hl-0">    </span><span class="hl-2">headers:</span><span class="hl-0"> {</span><br/><span class="hl-0">      </span><span class="hl-2">Authorization:</span><span class="hl-0"> </span><span class="hl-3">`Bearer </span><span class="hl-7">${</span><span class="hl-2">idToken</span><span class="hl-7">}</span><span class="hl-3">`</span><span class="hl-0">,</span><br/><span class="hl-0">    },</span><br/><span class="hl-0">  })</span><br/><span class="hl-0">} </span><span class="hl-1">else</span><span class="hl-0"> {</span><br/><span class="hl-0">  </span><span class="hl-9">// Handle user not being logged in</span><br/><span class="hl-0">}</span>
</code></pre>
</div></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4><div></div></li></ul></section><section class="tsd-panel tsd-member tsd-kind-function tsd-parent-kind-namespace"><a id="getUserFriendlyName" class="tsd-anchor"></a><h3 class="tsd-anchor-link">get<wbr/>User<wbr/>Friendly<wbr/>Name<a href="#getUserFriendlyName" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-function tsd-parent-kind-namespace"><li class="tsd-signature tsd-kind-icon">get<wbr/>User<wbr/>Friendly<wbr/>Name<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">undefined</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/oneblink/apps/blob/49b54e2/src/services/cognito.ts#L398">src/services/cognito.ts:398</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>A friendly <code>string</code> that represents the current user. Uses first name, last
name, full name and username. This will return <code>null</code> the current user is not
logged in.</p>
</div><div>
<a href="#example" id="example" style="color: inherit; text-decoration: none;">
  <h4>Example</h4>
</a>
<pre><code class="language-js"><span class="hl-7">const</span><span class="hl-0"> </span><span class="hl-8">name</span><span class="hl-0"> = </span><span class="hl-2">authService</span><span class="hl-0">.</span><span class="hl-4">getUserFriendlyName</span><span class="hl-0">()</span><br/><span class="hl-1">if</span><span class="hl-0"> (</span><span class="hl-2">name</span><span class="hl-0">) {</span><br/><span class="hl-0">  </span><span class="hl-9">// Display current user&#39;s name</span><br/><span class="hl-0">}</span>
</code></pre>
</div></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">undefined</span></h4><div></div></li></ul></section><section class="tsd-panel tsd-member tsd-kind-function tsd-parent-kind-namespace"><a id="getUserProfile" class="tsd-anchor"></a><h3 class="tsd-anchor-link">get<wbr/>User<wbr/>Profile<a href="#getUserProfile" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-function tsd-parent-kind-namespace"><li class="tsd-signature tsd-kind-icon">get<wbr/>User<wbr/>Profile<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="../interfaces/MiscTypes.UserProfile.html" class="tsd-signature-type" data-tsd-kind="Interface">UserProfile</a><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">null</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/oneblink/apps/blob/49b54e2/src/services/cognito.ts#L360">src/services/cognito.ts:360</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Get current users profile based on there Id Token payload. This will return
<code>null</code> if the the current user is not logged in.</p>
</div><div>
<a href="#example" id="example" style="color: inherit; text-decoration: none;">
  <h4>Example</h4>
</a>
<pre><code class="language-js"><span class="hl-7">const</span><span class="hl-0"> </span><span class="hl-8">profile</span><span class="hl-0"> = </span><span class="hl-2">authService</span><span class="hl-0">.</span><span class="hl-4">getUserProfile</span><span class="hl-0">()</span><br/><span class="hl-1">if</span><span class="hl-0"> (</span><span class="hl-2">profile</span><span class="hl-0">) {</span><br/><span class="hl-0">  </span><span class="hl-9">// Use profile here</span><br/><span class="hl-0">}</span>
</code></pre>
</div></div><h4 class="tsd-returns-title">Returns <a href="../interfaces/MiscTypes.UserProfile.html" class="tsd-signature-type" data-tsd-kind="Interface">UserProfile</a><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">null</span></h4><div></div></li></ul></section><section class="tsd-panel tsd-member tsd-kind-function tsd-parent-kind-namespace"><a id="getUserToken" class="tsd-anchor"></a><h3 class="tsd-anchor-link">get<wbr/>User<wbr/>Token<a href="#getUserToken" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-function tsd-parent-kind-namespace"><li class="tsd-signature tsd-kind-icon">get<wbr/>User<wbr/>Token<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">null</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">string</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/oneblink/apps/blob/49b54e2/src/services/user-token.ts#L32">src/services/user-token.ts:32</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Can be used to retrieve the <code>userToken</code> passed to <code>setUserToken()</code>. Will be
<code>undefined</code> if the token has not been set yet.</p>
</div><div>
<a href="#example" id="example" style="color: inherit; text-decoration: none;">
  <h4>Example</h4>
</a>
<pre><code class="language-js"><span class="hl-7">const</span><span class="hl-0"> </span><span class="hl-8">userToken</span><span class="hl-0"> = </span><span class="hl-2">authService</span><span class="hl-0">.</span><span class="hl-4">getUserToken</span><span class="hl-0">()</span><br/><span class="hl-1">if</span><span class="hl-0"> (</span><span class="hl-2">userToken</span><span class="hl-0">) {</span><br/><span class="hl-0">  </span><span class="hl-9">// Use token here...</span><br/><span class="hl-0">}</span>
</code></pre>
</div></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">null</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">string</span></h4><div></div></li></ul></section><section class="tsd-panel tsd-member tsd-kind-function tsd-parent-kind-namespace"><a id="handleAuthentication" class="tsd-anchor"></a><h3 class="tsd-anchor-link">handle<wbr/>Authentication<a href="#handleAuthentication" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-function tsd-parent-kind-namespace"><li class="tsd-signature tsd-kind-icon">handle<wbr/>Authentication<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/oneblink/apps/blob/49b54e2/src/services/cognito.ts#L182">src/services/cognito.ts:182</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>This function should be called when the user is redirected back to your app
after a login attempt. It will use the query string add the redirect URL to
create a session for the current user. It will return a URL as a <code>string</code>
that should be redirected to within your app.</p>
</div><div>
<a href="#example" id="example" style="color: inherit; text-decoration: none;">
  <h4>Example</h4>
</a>
<pre><code class="language-js"><span class="hl-1">try</span><span class="hl-0"> {</span><br/><span class="hl-0">  </span><span class="hl-7">const</span><span class="hl-0"> </span><span class="hl-8">continueTo</span><span class="hl-0"> = </span><span class="hl-1">await</span><span class="hl-0"> </span><span class="hl-2">authService</span><span class="hl-0">.</span><span class="hl-4">handleAuthentication</span><span class="hl-0">()</span><br/><span class="hl-0">  </span><span class="hl-9">// Redirect the user back to where they were before attempting to login</span><br/><span class="hl-0">  </span><span class="hl-2">window</span><span class="hl-0">.</span><span class="hl-2">location</span><span class="hl-0">.</span><span class="hl-2">href</span><span class="hl-0"> = </span><span class="hl-2">continueTo</span><br/><span class="hl-0">} </span><span class="hl-1">catch</span><span class="hl-0"> (</span><span class="hl-2">error</span><span class="hl-0">) {</span><br/><span class="hl-0">  </span><span class="hl-9">// handle failed login attempts here.</span><br/><span class="hl-0">}</span>
</code></pre>
</div></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">&gt;</span></h4><div></div></li></ul></section><section class="tsd-panel tsd-member tsd-kind-function tsd-parent-kind-namespace"><a id="init" class="tsd-anchor"></a><h3 class="tsd-anchor-link">init<a href="#init" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-function tsd-parent-kind-namespace"><li class="tsd-signature tsd-kind-icon">init<span class="tsd-signature-symbol">(</span>options<span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">{ </span>oAuthClientId<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/oneblink/apps/blob/49b54e2/src/auth-service.ts#L92">src/auth-service.ts:92</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Initialize the service with required configuration. <strong>This must be done
before using before some of the function in this service.</strong></p>
</div><div>
<a href="#example" id="example" style="color: inherit; text-decoration: none;">
  <h4>Example</h4>
</a>
<pre><code class="language-js"><span class="hl-2">authService</span><span class="hl-0">.</span><span class="hl-4">init</span><span class="hl-0">({</span><br/><span class="hl-0">  </span><span class="hl-2">oAuthClientId:</span><span class="hl-0"> </span><span class="hl-3">&#39;YOUR_OAUTH_CLIENT_ID&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">})</span>
</code></pre>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>options: <span class="tsd-signature-symbol">{ </span>oAuthClientId<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> }</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
</div></div><ul class="tsd-parameters"><li class="tsd-parameter"><h5>o<wbr/>Auth<wbr/>Client<wbr/>Id<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span></h5></li></ul></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-function tsd-parent-kind-namespace"><a id="isAdministrator" class="tsd-anchor"></a><h3 class="tsd-anchor-link">is<wbr/>Administrator<a href="#isAdministrator" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-function tsd-parent-kind-namespace"><li class="tsd-signature tsd-kind-icon">is<wbr/>Administrator<span class="tsd-signature-symbol">(</span>formsAppId<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span>, abortSignal<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">AbortSignal</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/oneblink/apps/blob/49b54e2/src/auth-service.ts#L261">src/auth-service.ts:261</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Determine if the current user is a OneBlink App User administrator for a
OneBlink Forms App. Returns <code>false</code> if the current user is not.</p>
</div><div>
<a href="#example" id="example" style="color: inherit; text-decoration: none;">
  <h4>Example</h4>
</a>
<pre><code class="language-js"><span class="hl-7">const</span><span class="hl-0"> </span><span class="hl-8">formsAppId</span><span class="hl-0"> = </span><span class="hl-6">1</span><br/><span class="hl-7">const</span><span class="hl-0"> </span><span class="hl-8">isAdministrator</span><span class="hl-0"> = </span><span class="hl-1">await</span><span class="hl-0"> </span><span class="hl-2">authService</span><span class="hl-0">.</span><span class="hl-4">isAdministrator</span><span class="hl-0">(</span><span class="hl-2">formsAppId</span><span class="hl-0">)</span><br/><span class="hl-1">if</span><span class="hl-0"> (</span><span class="hl-2">isAdministrator</span><span class="hl-0">) {</span><br/><span class="hl-0">  </span><span class="hl-9">// handle administator user</span><br/><span class="hl-0">}</span>
</code></pre>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>formsAppId: <span class="tsd-signature-type">number</span></h5></li><li><h5>abortSignal: <span class="tsd-signature-type">AbortSignal</span></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">&gt;</span></h4><div></div></li></ul></section><section class="tsd-panel tsd-member tsd-kind-function tsd-parent-kind-namespace"><a id="isAuthorised" class="tsd-anchor"></a><h3 class="tsd-anchor-link">is<wbr/>Authorised<a href="#isAuthorised" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-function tsd-parent-kind-namespace"><li class="tsd-signature tsd-kind-icon">is<wbr/>Authorised<span class="tsd-signature-symbol">(</span>formsAppId<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/oneblink/apps/blob/49b54e2/src/auth-service.ts#L125">src/auth-service.ts:125</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Determine if the current user is a OneBlink App User for a OneBlink Forms
App. Returns <code>false</code> if the current user is not logged in.</p>
</div><div>
<a href="#example" id="example" style="color: inherit; text-decoration: none;">
  <h4>Example</h4>
</a>
<pre><code class="language-js"><span class="hl-7">const</span><span class="hl-0"> </span><span class="hl-8">formsAppId</span><span class="hl-0"> = </span><span class="hl-6">1</span><br/><span class="hl-7">const</span><span class="hl-0"> </span><span class="hl-8">isAuthorised</span><span class="hl-0"> = </span><span class="hl-1">await</span><span class="hl-0"> </span><span class="hl-2">authService</span><span class="hl-0">.</span><span class="hl-4">isAuthorised</span><span class="hl-0">(</span><span class="hl-2">formsAppId</span><span class="hl-0">)</span><br/><span class="hl-1">if</span><span class="hl-0"> (!</span><span class="hl-2">isAuthorised</span><span class="hl-0">) {</span><br/><span class="hl-0">  </span><span class="hl-9">// handle unauthorised user</span><br/><span class="hl-0">}</span>
</code></pre>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>formsAppId: <span class="tsd-signature-type">number</span></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">&gt;</span></h4><div></div></li></ul></section><section class="tsd-panel tsd-member tsd-kind-function tsd-parent-kind-namespace"><a id="isLoggedIn" class="tsd-anchor"></a><h3 class="tsd-anchor-link">is<wbr/>Logged<wbr/>In<a href="#isLoggedIn" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-function tsd-parent-kind-namespace"><li class="tsd-signature tsd-kind-icon">is<wbr/>Logged<wbr/>In<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">boolean</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/oneblink/apps/blob/49b54e2/src/services/cognito.ts#L329">src/services/cognito.ts:329</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Check if the user is currently logged in</p>
</div><div>
<a href="#example" id="example" style="color: inherit; text-decoration: none;">
  <h4>Example</h4>
</a>
<pre><code class="language-js"><span class="hl-7">const</span><span class="hl-0"> </span><span class="hl-8">isLoggedIn</span><span class="hl-0"> = </span><span class="hl-2">authService</span><span class="hl-0">.</span><span class="hl-4">isLoggedIn</span><span class="hl-0">()</span><br/><span class="hl-9">// handle user being logged in or not</span>
</code></pre>
</div></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">boolean</span></h4><div></div></li></ul></section><section class="tsd-panel tsd-member tsd-kind-function tsd-parent-kind-namespace"><a id="loginHostedUI" class="tsd-anchor"></a><h3 class="tsd-anchor-link">login<wbr/>HostedUI<a href="#loginHostedUI" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-function tsd-parent-kind-namespace"><li class="tsd-signature tsd-kind-icon">login<wbr/>HostedUI<span class="tsd-signature-symbol">(</span>identityProviderName<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/oneblink/apps/blob/49b54e2/src/services/cognito.ts#L150">src/services/cognito.ts:150</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Redirect the user to the login screen. Passing an <code>identityProvider</code> is
optionally, it will allow users to skip the login page and be directed
straight to that providers login page</p>
</div><div>
<a href="#example" id="example" style="color: inherit; text-decoration: none;">
  <h4>Example</h4>
</a>
<pre><code class="language-js"><span class="hl-9">// OPtionally pass a</span><br/><span class="hl-7">const</span><span class="hl-0"> </span><span class="hl-8">identityProvider</span><span class="hl-0"> = </span><span class="hl-3">&#39;Google&#39;</span><br/><span class="hl-1">await</span><span class="hl-0"> </span><span class="hl-2">authService</span><span class="hl-0">.</span><span class="hl-4">loginHostedUI</span><span class="hl-0">(</span><span class="hl-2">identityProvider</span><span class="hl-0">)</span><br/><span class="hl-9">// User will be redirected to login page or promise will resolve</span>
</code></pre>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5><span class="tsd-flag ts-flagOptional">Optional</span> identityProviderName: <span class="tsd-signature-type">string</span></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4><div></div></li></ul></section><section class="tsd-panel tsd-member tsd-kind-function tsd-parent-kind-namespace"><a id="loginUsernamePassword" class="tsd-anchor"></a><h3 class="tsd-anchor-link">login<wbr/>Username<wbr/>Password<a href="#loginUsernamePassword" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-function tsd-parent-kind-namespace"><li class="tsd-signature tsd-kind-icon">login<wbr/>Username<wbr/>Password<span class="tsd-signature-symbol">(</span>username<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span>, password<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="authService.html#LoginAttemptResponse" class="tsd-signature-type" data-tsd-kind="Type alias">LoginAttemptResponse</a><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/oneblink/apps/blob/49b54e2/src/services/cognito.ts#L120">src/services/cognito.ts:120</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Create a session for a user by entering a username and password. If the user
requires a password reset, the &quot;resetPasswordCallback&quot; property will be
returned. This function should be called with the new password once entered
by the user. If the user requires an MFA token, the &quot;mfaCodeCallback&quot;
property will be returned. This function should be called with a one-time
token generated from an authenticator app. The functions returned are
recursive and the result from each of them is the same result from the
loginUsernamePassword() function. Each time the response includes a callback,
you will need to begin the process again until all callbacks are handled.</p>
</div><div>
<a href="#example" id="example" style="color: inherit; text-decoration: none;">
  <h4>Example</h4>
</a>
<pre><code class="language-js"><span class="hl-7">async</span><span class="hl-0"> </span><span class="hl-7">function</span><span class="hl-0"> </span><span class="hl-4">handleLoginAttemptResponse</span><span class="hl-0">({</span><br/><span class="hl-0">  </span><span class="hl-2">resetPasswordCallback</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-2">mfaCodeCallback</span><span class="hl-0">,</span><br/><span class="hl-0">}) {</span><br/><span class="hl-0">  </span><span class="hl-9">// &quot;resetPasswordCallback&quot; will be undefined if a password reset was not required.</span><br/><span class="hl-0">  </span><span class="hl-1">if</span><span class="hl-0"> (</span><span class="hl-2">resetPasswordCallback</span><span class="hl-0">) {</span><br/><span class="hl-0">    </span><span class="hl-9">// Prompt the user to enter a new password</span><br/><span class="hl-0">    </span><span class="hl-7">const</span><span class="hl-0"> </span><span class="hl-8">newPassword</span><span class="hl-0"> = </span><span class="hl-4">prompt</span><span class="hl-0">(</span><br/><span class="hl-0">      </span><span class="hl-3">&#39;The password you entered was only temporary, and must be reset for security purposes. Please enter your new password below to continue.&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">    )</span><br/><span class="hl-0">    </span><span class="hl-7">const</span><span class="hl-0"> </span><span class="hl-8">resetPasswordResponse</span><span class="hl-0"> =</span><br/><span class="hl-0">      </span><span class="hl-1">await</span><span class="hl-0"> </span><span class="hl-4">resetPasswordCallback</span><span class="hl-0">(</span><span class="hl-2">newPassword</span><span class="hl-0">)</span><br/><span class="hl-0">    </span><span class="hl-1">return</span><span class="hl-0"> </span><span class="hl-1">await</span><span class="hl-0"> </span><span class="hl-4">handleLoginAttemptResponse</span><span class="hl-0">(</span><span class="hl-2">resetPasswordResponse</span><span class="hl-0">)</span><br/><span class="hl-0">  }</span><br/><br/><span class="hl-0">  </span><span class="hl-9">// &quot;mfaCodeCallback&quot; will be undefined if MFA is not setup.</span><br/><span class="hl-0">  </span><span class="hl-1">if</span><span class="hl-0"> (</span><span class="hl-2">mfaCodeCallback</span><span class="hl-0">) {</span><br/><span class="hl-0">    </span><span class="hl-9">// Prompt the user to enter an MFA code</span><br/><span class="hl-0">    </span><span class="hl-7">const</span><span class="hl-0"> </span><span class="hl-8">code</span><span class="hl-0"> = </span><span class="hl-4">prompt</span><span class="hl-0">(</span><br/><span class="hl-0">      </span><span class="hl-3">&#39;Please enter a one-time code from your MFA app.&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">    )</span><br/><span class="hl-0">    </span><span class="hl-7">const</span><span class="hl-0"> </span><span class="hl-8">mfaCodeResponse</span><span class="hl-0"> = </span><span class="hl-1">await</span><span class="hl-0"> </span><span class="hl-4">mfaCodeCallback</span><span class="hl-0">(</span><span class="hl-2">code</span><span class="hl-0">)</span><br/><span class="hl-0">    </span><span class="hl-1">return</span><span class="hl-0"> </span><span class="hl-1">await</span><span class="hl-0"> </span><span class="hl-4">handleLoginAttemptResponse</span><span class="hl-0">(</span><span class="hl-2">mfaCodeResponse</span><span class="hl-0">)</span><br/><span class="hl-0">  }</span><br/><span class="hl-0">}</span><br/><br/><span class="hl-7">const</span><span class="hl-0"> </span><span class="hl-8">username</span><span class="hl-0"> = </span><span class="hl-3">&#39;user@email.io&#39;</span><br/><span class="hl-7">const</span><span class="hl-0"> </span><span class="hl-8">password</span><span class="hl-0"> = </span><span class="hl-3">&#39;P@$5w0rd&#39;</span><br/><br/><span class="hl-7">const</span><span class="hl-0"> </span><span class="hl-8">loginAttemptResponse</span><span class="hl-0"> = </span><span class="hl-1">await</span><span class="hl-0"> </span><span class="hl-2">authService</span><span class="hl-0">.</span><span class="hl-4">loginUsernamePassword</span><span class="hl-0">(</span><br/><span class="hl-0">  </span><span class="hl-2">username</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-2">password</span><span class="hl-0">,</span><br/><span class="hl-0">)</span><br/><br/><span class="hl-1">await</span><span class="hl-0"> </span><span class="hl-4">handleLoginAttemptResponse</span><span class="hl-0">(</span><span class="hl-2">loginAttemptResponse</span><span class="hl-0">)</span>
</code></pre>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>username: <span class="tsd-signature-type">string</span></h5></li><li><h5>password: <span class="tsd-signature-type">string</span></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="authService.html#LoginAttemptResponse" class="tsd-signature-type" data-tsd-kind="Type alias">LoginAttemptResponse</a><span class="tsd-signature-symbol">&gt;</span></h4><div></div></li></ul></section><section class="tsd-panel tsd-member tsd-kind-function tsd-parent-kind-namespace"><a id="logout" class="tsd-anchor"></a><h3 class="tsd-anchor-link">logout<a href="#logout" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-function tsd-parent-kind-namespace"><li class="tsd-signature tsd-kind-icon">logout<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/oneblink/apps/blob/49b54e2/src/auth-service.ts#L65">src/auth-service.ts:65</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Log the current user out and remove an data stored locally by the user e.g.
drafts.</p>
</div><div>
<a href="#example" id="example" style="color: inherit; text-decoration: none;">
  <h4>Example</h4>
</a>
<pre><code class="language-js"><span class="hl-1">await</span><span class="hl-0"> </span><span class="hl-2">authService</span><span class="hl-0">.</span><span class="hl-4">logout</span><span class="hl-0">()</span>
</code></pre>
</div></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-function tsd-parent-kind-namespace"><a id="logoutHostedUI" class="tsd-anchor"></a><h3 class="tsd-anchor-link">logout<wbr/>HostedUI<a href="#logoutHostedUI" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-function tsd-parent-kind-namespace"><li class="tsd-signature tsd-kind-icon">logout<wbr/>HostedUI<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/oneblink/apps/blob/49b54e2/src/services/cognito.ts#L305">src/services/cognito.ts:305</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Redirect the user to the logout screen to clear the users session on the
hosted login page. User will then be redirected to <code>/logout</code>. After being
redirected back to the application, the <code>logout()</code> function should be called
to clear the session data from browser storage.</p>
</div><div>
<a href="#example" id="example" style="color: inherit; text-decoration: none;">
  <h4>Example</h4>
</a>
<pre><code class="language-js"><span class="hl-2">authService</span><span class="hl-0">.</span><span class="hl-4">logoutHostedUI</span><span class="hl-0">()</span>
</code></pre>
</div></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-function tsd-parent-kind-namespace"><a id="registerAuthListener" class="tsd-anchor"></a><h3 class="tsd-anchor-link">register<wbr/>Auth<wbr/>Listener<a href="#registerAuthListener" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-function tsd-parent-kind-namespace"><li class="tsd-signature tsd-kind-icon">register<wbr/>Auth<wbr/>Listener<span class="tsd-signature-symbol">(</span>listener<span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">unknown</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/oneblink/apps/blob/49b54e2/src/services/cognito.ts#L56">src/services/cognito.ts:56</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Register a listener function that will be call when authentication tokens are
updated or removed.</p>
</div><div>
<a href="#example" id="example" style="color: inherit; text-decoration: none;">
  <h4>Example</h4>
</a>
<pre><code class="language-js"><span class="hl-7">const</span><span class="hl-0"> </span><span class="hl-4">listener</span><span class="hl-0"> = </span><span class="hl-7">async</span><span class="hl-0"> () </span><span class="hl-7">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">  </span><span class="hl-9">// Check if the user is logged in still</span><br/><span class="hl-0">  </span><span class="hl-7">const</span><span class="hl-0"> </span><span class="hl-8">isLoggedIn</span><span class="hl-0"> = </span><span class="hl-2">authService</span><span class="hl-0">.</span><span class="hl-4">isLoggedIn</span><span class="hl-0">()</span><br/><span class="hl-0">}</span><br/><span class="hl-7">const</span><span class="hl-0"> </span><span class="hl-8">deregister</span><span class="hl-0"> = </span><span class="hl-1">await</span><span class="hl-0"> </span><span class="hl-2">authService</span><span class="hl-0">.</span><span class="hl-4">registerAuthListener</span><span class="hl-0">(</span><span class="hl-2">listener</span><span class="hl-0">)</span><br/><br/><span class="hl-9">// When no longer needed, remember to deregister the listener</span><br/><span class="hl-4">deregister</span><span class="hl-0">()</span>
</code></pre>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>listener: <span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">unknown</span></h5><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures tsd-kind-type-literal"><li class="tsd-signature tsd-kind-icon"><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">unknown</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">unknown</span></h4></li></ul></li></ul></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span></h4><div></div><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures tsd-kind-type-literal"><li class="tsd-signature tsd-kind-icon"><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><div class="tsd-comment tsd-typography"><div class="lead">
<p>Register a listener function that will be call when authentication tokens are
updated or removed.</p>
</div><div>
<a href="#example" id="example" style="color: inherit; text-decoration: none;">
  <h4>Example</h4>
</a>
<pre><code class="language-js"><span class="hl-7">const</span><span class="hl-0"> </span><span class="hl-4">listener</span><span class="hl-0"> = </span><span class="hl-7">async</span><span class="hl-0"> () </span><span class="hl-7">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">  </span><span class="hl-9">// Check if the user is logged in still</span><br/><span class="hl-0">  </span><span class="hl-7">const</span><span class="hl-0"> </span><span class="hl-8">isLoggedIn</span><span class="hl-0"> = </span><span class="hl-2">authService</span><span class="hl-0">.</span><span class="hl-4">isLoggedIn</span><span class="hl-0">()</span><br/><span class="hl-0">}</span><br/><span class="hl-7">const</span><span class="hl-0"> </span><span class="hl-8">deregister</span><span class="hl-0"> = </span><span class="hl-1">await</span><span class="hl-0"> </span><span class="hl-2">authService</span><span class="hl-0">.</span><span class="hl-4">registerAuthListener</span><span class="hl-0">(</span><span class="hl-2">listener</span><span class="hl-0">)</span><br/><br/><span class="hl-9">// When no longer needed, remember to deregister the listener</span><br/><span class="hl-4">deregister</span><span class="hl-0">()</span>
</code></pre>
</div></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4><div></div></li></ul></li></ul></li></ul></section><section class="tsd-panel tsd-member tsd-kind-function tsd-parent-kind-namespace"><a id="requestAccess" class="tsd-anchor"></a><h3 class="tsd-anchor-link">request<wbr/>Access<a href="#requestAccess" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-function tsd-parent-kind-namespace"><li class="tsd-signature tsd-kind-icon">request<wbr/>Access<span class="tsd-signature-symbol">(</span>formsAppId<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/oneblink/apps/blob/49b54e2/src/auth-service.ts#L215">src/auth-service.ts:215</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>If the current user is not a Forms App User, this function will send a
request on behalf of the current user to the OneBlink Forms App
administrators to request access.</p>
</div><div>
<a href="#example" id="example" style="color: inherit; text-decoration: none;">
  <h4>Example</h4>
</a>
<pre><code class="language-js"><span class="hl-7">const</span><span class="hl-0"> </span><span class="hl-8">formsAppId</span><span class="hl-0"> = </span><span class="hl-6">1</span><br/><span class="hl-1">await</span><span class="hl-0"> </span><span class="hl-2">authService</span><span class="hl-0">.</span><span class="hl-4">requestAccess</span><span class="hl-0">(</span><span class="hl-2">formsAppId</span><span class="hl-0">)</span><br/><span class="hl-9">// Display a message to user indicating a request has been sent to the application administrators</span>
</code></pre>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>formsAppId: <span class="tsd-signature-type">number</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
</div></div></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-function tsd-parent-kind-namespace"><a id="setFormsKeyToken" class="tsd-anchor"></a><h3 class="tsd-anchor-link">set<wbr/>Forms<wbr/>Key<wbr/>Token<a href="#setFormsKeyToken" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-function tsd-parent-kind-namespace"><li class="tsd-signature tsd-kind-icon">set<wbr/>Forms<wbr/>Key<wbr/>Token<span class="tsd-signature-symbol">(</span>jwtToken<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">null</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/oneblink/apps/blob/49b54e2/src/services/forms-key.ts#L21">src/services/forms-key.ts:21</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Set the Forms Key token being used to make requests to the OneBlink API on
behalf of the user.</p>
</div><div>
<a href="#example" id="example" style="color: inherit; text-decoration: none;">
  <h4>Example</h4>
</a>
<pre><code class="language-js"><span class="hl-2">authService</span><span class="hl-0">.</span><span class="hl-4">setFormsKeyToken</span><span class="hl-0">(</span><span class="hl-3">&#39;a valid json web token&#39;</span><span class="hl-0">)</span>
</code></pre>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>jwtToken: <span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">null</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">string</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
</div></div></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-function tsd-parent-kind-namespace"><a id="setUserToken" class="tsd-anchor"></a><h3 class="tsd-anchor-link">set<wbr/>User<wbr/>Token<a href="#setUserToken" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-function tsd-parent-kind-namespace"><li class="tsd-signature tsd-kind-icon">set<wbr/>User<wbr/>Token<span class="tsd-signature-symbol">(</span>token<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">null</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/oneblink/apps/blob/49b54e2/src/services/user-token.ts#L13">src/services/user-token.ts:13</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Set the User token being included in requests to the OneBlink API on behalf
of the user.</p>
</div><div>
<a href="#example" id="example" style="color: inherit; text-decoration: none;">
  <h4>Example</h4>
</a>
<pre><code class="language-js"><span class="hl-2">authService</span><span class="hl-0">.</span><span class="hl-4">setUserToken</span><span class="hl-0">(</span><span class="hl-3">&#39;a value&#39;</span><span class="hl-0">)</span>
</code></pre>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>token: <span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">null</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">string</span></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-function tsd-parent-kind-namespace"><a id="setupMfa" class="tsd-anchor"></a><h3 class="tsd-anchor-link">setup<wbr/>Mfa<a href="#setupMfa" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-function tsd-parent-kind-namespace"><li class="tsd-signature tsd-kind-icon">setup<wbr/>Mfa<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-symbol">{ </span>mfaCodeCallback<span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span>code<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">; </span>secretCode<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/oneblink/apps/blob/49b54e2/src/services/cognito.ts#L470">src/services/cognito.ts:470</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Setup MFA for the current user. The result will include a callback that
should be called with the valid TOTP from an authenticator app.</p>
</div><div>
<a href="#example" id="example" style="color: inherit; text-decoration: none;">
  <h4>Example</h4>
</a>
<pre><code class="language-js"><span class="hl-7">const</span><span class="hl-0"> { </span><span class="hl-8">secretCode</span><span class="hl-0">, </span><span class="hl-8">mfaCodeCallback</span><span class="hl-0"> } = </span><span class="hl-1">await</span><span class="hl-0"> </span><span class="hl-2">authService</span><span class="hl-0">.</span><span class="hl-4">setupMfa</span><span class="hl-0">()</span><br/><span class="hl-9">// Prompt the user to enter an MFA code</span><br/><span class="hl-7">const</span><span class="hl-0"> </span><span class="hl-8">code</span><span class="hl-0"> = </span><span class="hl-4">prompt</span><span class="hl-0">(</span><br/><span class="hl-0">  </span><span class="hl-3">`Please enter a one-time code from your MFA app after creating a new entry with secret: </span><span class="hl-7">${</span><span class="hl-2">secretCode</span><span class="hl-7">}</span><span class="hl-3">.`</span><span class="hl-0">,</span><br/><span class="hl-0">)</span><br/><span class="hl-1">await</span><span class="hl-0"> </span><span class="hl-4">mfaCodeCallback</span><span class="hl-0">(</span><span class="hl-2">code</span><span class="hl-0">)</span>
</code></pre>
</div></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-symbol">{ </span>mfaCodeCallback<span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span>code<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">; </span>secretCode<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol">&gt;</span></h4><div></div></li></ul></section><section class="tsd-panel tsd-member tsd-kind-function tsd-parent-kind-namespace"><a id="signUp" class="tsd-anchor"></a><h3 class="tsd-anchor-link">sign<wbr/>Up<a href="#signUp" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-function tsd-parent-kind-namespace"><li class="tsd-signature tsd-kind-icon">sign<wbr/>Up<span class="tsd-signature-symbol">(</span>__namedParameters<span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">{ </span>email<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span>firstName<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span>formsAppId<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">; </span>lastName<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/oneblink/apps/blob/49b54e2/src/auth-service.ts#L287">src/auth-service.ts:287</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Allow a user to sign up to a forms app.</p>
</div><div>
<a href="#example" id="example" style="color: inherit; text-decoration: none;">
  <h4>Example</h4>
</a>
<pre><code class="language-js"><span class="hl-1">await</span><span class="hl-0"> </span><span class="hl-2">authService</span><span class="hl-0">.</span><span class="hl-4">signUp</span><span class="hl-0">({</span><br/><span class="hl-0">  </span><span class="hl-2">formsAppId:</span><span class="hl-0"> </span><span class="hl-6">1</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-2">email:</span><span class="hl-0"> </span><span class="hl-3">&#39;test@oneblink.io&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-2">firstName:</span><span class="hl-0"> </span><span class="hl-3">&#39;first&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-2">lastName:</span><span class="hl-0"> </span><span class="hl-3">&#39;last&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">})</span>
</code></pre>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>__namedParameters: <span class="tsd-signature-symbol">{ </span>email<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span>firstName<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span>formsAppId<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">; </span>lastName<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> }</span></h5><ul class="tsd-parameters"><li class="tsd-parameter"><h5>email<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span></h5></li><li class="tsd-parameter"><h5><span class="tsd-flag ts-flagOptional">Optional</span> first<wbr/>Name<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span></h5></li><li class="tsd-parameter"><h5>forms<wbr/>App<wbr/>Id<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span></h5></li><li class="tsd-parameter"><h5><span class="tsd-flag ts-flagOptional">Optional</span> last<wbr/>Name<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span></h5></li></ul></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4><div></div></li></ul></section></section></div><div class="col-4 col-menu menu-sticky-wrap menu-highlight"><nav class="tsd-navigation primary"><ul><li class=""><a href="../modules.html">Exports</a></li><li class="label tsd-is-external"><span>Internals</span></li><li class=" tsd-kind-namespace"><a href="approvalsService.html">approvals<wbr/>Service</a></li><li class=" tsd-kind-namespace"><a href="attachmentsService.html">attachments<wbr/>Service</a></li><li class="current tsd-kind-namespace"><a href="authService.html">auth<wbr/>Service</a></li><li class=" tsd-kind-namespace"><a href="autoSaveService.html">auto<wbr/>Save<wbr/>Service</a></li><li class=" tsd-kind-namespace"><a href="draftService.html">draft<wbr/>Service</a></li><li class=" tsd-kind-namespace"><a href="formService.html">form<wbr/>Service</a></li><li class=" tsd-kind-namespace"><a href="formStoreService.html">form<wbr/>Store<wbr/>Service</a></li><li class=" tsd-kind-namespace"><a href="formsAppService.html">forms<wbr/>App<wbr/>Service</a></li><li class=" tsd-kind-namespace"><a href="jobService.html">job<wbr/>Service</a></li><li class=" tsd-kind-namespace"><a href="localisationService.html">localisation<wbr/>Service</a></li><li class=" tsd-kind-namespace"><a href="notificationService.html">notification<wbr/>Service</a></li><li class=" tsd-kind-namespace"><a href="offlineService.html">offline<wbr/>Service</a></li><li class=" tsd-kind-namespace"><a href="paymentService.html">payment<wbr/>Service</a></li><li class=" tsd-kind-namespace"><a href="prefillService.html">prefill<wbr/>Service</a></li><li class=" tsd-kind-namespace"><a href="scheduledTasksService.html">scheduled<wbr/>Tasks<wbr/>Service</a></li><li class=" tsd-kind-namespace"><a href="schedulingService.html">scheduling<wbr/>Service</a></li><li class=" tsd-kind-namespace"><a href="submissionService.html">submission<wbr/>Service</a></li><li class="label tsd-is-external"><span>Externals</span></li><li class=" tsd-kind-namespace tsd-is-external"><a href="APINSWTypes.html">APINSWTypes</a></li><li class=" tsd-kind-namespace tsd-is-external"><a href="APITypes.html">APITypes</a></li><li class=" tsd-kind-namespace tsd-is-external"><a href="AWSTypes.html">AWSTypes</a></li><li class=" tsd-kind-namespace tsd-is-external"><a href="ApprovalTypes.html">Approval<wbr/>Types</a></li><li class=" tsd-kind-namespace tsd-is-external"><a href="CDNTypes.html">CDNTypes</a></li><li class=" tsd-kind-namespace tsd-is-external"><a href="CivicaTypes.html">Civica<wbr/>Types</a></li><li class=" tsd-kind-namespace tsd-is-external"><a href="ConditionTypes.html">Condition<wbr/>Types</a></li><li class=" tsd-kind-namespace tsd-is-external"><a href="EmailTemplateTypes.html">Email<wbr/>Template<wbr/>Types</a></li><li class=" tsd-kind-namespace tsd-is-external"><a href="EnvironmentTypes.html">Environment<wbr/>Types</a></li><li class=" tsd-kind-namespace tsd-is-external"><a href="FormTypes.html">Form<wbr/>Types</a></li><li class=" tsd-kind-namespace tsd-is-external"><a href="FormsAppsTypes.html">Forms<wbr/>Apps<wbr/>Types</a></li><li class=" tsd-kind-namespace tsd-is-external"><a href="FreshdeskTypes.html">Freshdesk<wbr/>Types</a></li><li class=" tsd-kind-namespace tsd-is-external"><a href="GeoscapeTypes.html">Geoscape<wbr/>Types</a></li><li class=" tsd-kind-namespace tsd-is-external"><a href="IntegrationTypes.html">Integration<wbr/>Types</a></li><li class=" tsd-kind-namespace tsd-is-external"><a href="KeyTypes.html">Key<wbr/>Types</a></li><li class=" tsd-kind-namespace tsd-is-external"><a href="MiscTypes.html">Misc<wbr/>Types</a></li><li class=" tsd-kind-namespace tsd-is-external"><a href="OrganisationTypes.html">Organisation<wbr/>Types</a></li><li class=" tsd-kind-namespace tsd-is-external"><a href="PDFConversionTypes.html">PDFConversion<wbr/>Types</a></li><li class=" tsd-kind-namespace tsd-is-external"><a href="PDFTypes.html">PDFTypes</a></li><li class=" tsd-kind-namespace tsd-is-external"><a href="PointTypes.html">Point<wbr/>Types</a></li><li class=" tsd-kind-namespace tsd-is-external"><a href="ScheduledTasksTypes.html">Scheduled<wbr/>Tasks<wbr/>Types</a></li><li class=" tsd-kind-namespace tsd-is-external"><a href="SchedulingTypes.html">Scheduling<wbr/>Types</a></li><li class=" tsd-kind-namespace tsd-is-external"><a href="SubmissionEventTypes.html">Submission<wbr/>Event<wbr/>Types</a></li><li class=" tsd-kind-namespace tsd-is-external"><a href="SubmissionTypes.html">Submission<wbr/>Types</a></li><li class=" tsd-kind-namespace tsd-is-external"><a href="TeamMemberTypes.html">Team<wbr/>Member<wbr/>Types</a></li></ul></nav><nav class="tsd-navigation secondary menu-sticky"><ul><li class="tsd-kind-type-alias tsd-parent-kind-namespace"><a href="authService.html#LoginAttemptResponse" class="tsd-kind-icon">Login<wbr/>Attempt<wbr/>Response</a></li><li class="tsd-kind-function tsd-parent-kind-namespace"><a href="authService.html#changePassword" class="tsd-kind-icon">change<wbr/>Password</a></li><li class="tsd-kind-function tsd-parent-kind-namespace"><a href="authService.html#checkIsMfaEnabled" class="tsd-kind-icon">check<wbr/>Is<wbr/>Mfa<wbr/>Enabled</a></li><li class="tsd-kind-function tsd-parent-kind-namespace"><a href="authService.html#disableMfa" class="tsd-kind-icon">disable<wbr/>Mfa</a></li><li class="tsd-kind-function tsd-parent-kind-namespace"><a href="authService.html#forgotPassword" class="tsd-kind-icon">forgot<wbr/>Password</a></li><li class="tsd-kind-function tsd-parent-kind-namespace"><a href="authService.html#getCurrentFormsAppUser" class="tsd-kind-icon">get<wbr/>Current<wbr/>Forms<wbr/>App<wbr/>User</a></li><li class="tsd-kind-function tsd-parent-kind-namespace"><a href="authService.html#getFormsKeyId" class="tsd-kind-icon">get<wbr/>Forms<wbr/>Key<wbr/>Id</a></li><li class="tsd-kind-function tsd-parent-kind-namespace"><a href="authService.html#getIdToken" class="tsd-kind-icon">get<wbr/>Id<wbr/>Token</a></li><li class="tsd-kind-function tsd-parent-kind-namespace"><a href="authService.html#getUserFriendlyName" class="tsd-kind-icon">get<wbr/>User<wbr/>Friendly<wbr/>Name</a></li><li class="tsd-kind-function tsd-parent-kind-namespace"><a href="authService.html#getUserProfile" class="tsd-kind-icon">get<wbr/>User<wbr/>Profile</a></li><li class="tsd-kind-function tsd-parent-kind-namespace"><a href="authService.html#getUserToken" class="tsd-kind-icon">get<wbr/>User<wbr/>Token</a></li><li class="tsd-kind-function tsd-parent-kind-namespace"><a href="authService.html#handleAuthentication" class="tsd-kind-icon">handle<wbr/>Authentication</a></li><li class="tsd-kind-function tsd-parent-kind-namespace"><a href="authService.html#init" class="tsd-kind-icon">init</a></li><li class="tsd-kind-function tsd-parent-kind-namespace"><a href="authService.html#isAdministrator" class="tsd-kind-icon">is<wbr/>Administrator</a></li><li class="tsd-kind-function tsd-parent-kind-namespace"><a href="authService.html#isAuthorised" class="tsd-kind-icon">is<wbr/>Authorised</a></li><li class="tsd-kind-function tsd-parent-kind-namespace"><a href="authService.html#isLoggedIn" class="tsd-kind-icon">is<wbr/>Logged<wbr/>In</a></li><li class="tsd-kind-function tsd-parent-kind-namespace"><a href="authService.html#loginHostedUI" class="tsd-kind-icon">login<wbr/>HostedUI</a></li><li class="tsd-kind-function tsd-parent-kind-namespace"><a href="authService.html#loginUsernamePassword" class="tsd-kind-icon">login<wbr/>Username<wbr/>Password</a></li><li class="tsd-kind-function tsd-parent-kind-namespace"><a href="authService.html#logout" class="tsd-kind-icon">logout</a></li><li class="tsd-kind-function tsd-parent-kind-namespace"><a href="authService.html#logoutHostedUI" class="tsd-kind-icon">logout<wbr/>HostedUI</a></li><li class="tsd-kind-function tsd-parent-kind-namespace"><a href="authService.html#registerAuthListener" class="tsd-kind-icon">register<wbr/>Auth<wbr/>Listener</a></li><li class="tsd-kind-function tsd-parent-kind-namespace"><a href="authService.html#requestAccess" class="tsd-kind-icon">request<wbr/>Access</a></li><li class="tsd-kind-function tsd-parent-kind-namespace"><a href="authService.html#setFormsKeyToken" class="tsd-kind-icon">set<wbr/>Forms<wbr/>Key<wbr/>Token</a></li><li class="tsd-kind-function tsd-parent-kind-namespace"><a href="authService.html#setUserToken" class="tsd-kind-icon">set<wbr/>User<wbr/>Token</a></li><li class="tsd-kind-function tsd-parent-kind-namespace"><a href="authService.html#setupMfa" class="tsd-kind-icon">setup<wbr/>Mfa</a></li><li class="tsd-kind-function tsd-parent-kind-namespace"><a href="authService.html#signUp" class="tsd-kind-icon">sign<wbr/>Up</a></li></ul></nav></div></div></div><footer class=""><div class="container"><h2>Legend</h2><div class="tsd-legend-group"><ul class="tsd-legend"><li class="tsd-kind-constructor tsd-parent-kind-class"><span class="tsd-kind-icon">Constructor</span></li><li class="tsd-kind-property tsd-parent-kind-class"><span class="tsd-kind-icon">Property</span></li></ul></div><h2>Settings</h2><p>Theme <select id="theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></p></div></footer><div class="overlay"></div><script src="../assets/main.js"></script></body></html>